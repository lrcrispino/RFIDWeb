{% extends "app/layout.html" %}

{% block content %}

<h2>{{ title }}</h2>
<a href="dl" class="btn btn-success">Download CSV</a>
<a href="clear_empty" class="btn btn-danger">Clear Empty Name</a>
<a href="clear_unknown" class="btn btn-danger">Clear Unknown Name</a>
<p><br /></p>
<table id="log" class="table table-striped table-bordered" style="width:100%">
  <thead>
  <tr>
    <th>Date</th>
    <th>Time</th>
    <th>Area</th>
    <th>ID</th>
    <th>Name</th>
    <th>Scan Type</th>
    <th>Action</th>
  </tr>
  </thead>
  <tbody>
   {% for log in log_list %}
        <tr>
            <td>{{ log.entrydate|date:"Y-m-d" }}</td>
            <td>{{ log.entrydate|date:"H:i" }}</td>
            <td>{{ log.area }}</td>
            <td>{{ log.scan_id }}</td>
            <td>{{ log.username }}</td>
            <td>{{ log.scan_type }}</td>
            <td>{{ log.action }}</td>
        </tr>
    {% endfor %}
  </tbody>
</table> 

{% endblock %}

{% block scripts %}
<script>
$(document).ready( function () {
    $('#log').DataTable({
        "lengthMenu": [[25, 50, 100, -1], [25, 50, 100, "All"]],
        "columnDefs": [{
            targets: [0],
            orderData: [0, 1]
        }, {
            targets: [1],
            orderData: [1, 0]
        }
        ],
        "order": [[ 0, "desc" ]]
    });
} );
</script>
{% endblock %}